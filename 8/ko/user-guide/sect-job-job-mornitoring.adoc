////
 ---------------------
 section level-1 ===
 ---------------------
////
[#sect_job_job_mornitoring]
=== Job Monitoring

[JOB] > [Job Monitoring] 메뉴를 선택하면 Job Monitoring 화면으로 이동한다. [Service Job] 탭 또는 [Data Job] 탭을 선택하여 히스토리를 조회할 수 있다.
 
image::resources/figure_jobmonitoring.png[title="Job Monitoring 화면",width=750]

Job Monitoring 화면을 지속적으로 새로고침해서 모니터링하는 경우 왼쪽 상단에 있는 image:resources/icon_autoreflash.png[image] 버튼을 클릭해서 Auto Refresh 정보를 설정할 수 있다. Auto Refresh 화면에서 'Auto Refresh Configure' 항목의 토글 버튼으로 새로고침 모니터링 기능의 사용 여부를 설정할 수 있다. 해당 기능을 사용하는 경우 새로고침 주기를 설정한 후 [Save] 버튼을 클릭한다.(((Auto Refresh 설정)))
 
image::resources/figure_job_monitoring_auto_refresh.png[title="Auto Refresh 설정",width=250]

////
 ---------------------
 section level-2 ====
 ---------------------
////
==== Service Job

Job Monitoring 화면에서 [Service Job] 탭을 선택하면 Service Job의 수행 내역을 조회할 수 있다.

목록을 클릭하면 오른쪽에 <<figure_jobmonitoring_servicejob_detail,히스토리 상세 조회화면 >>에서 해당 Service Job의 실행 결과를 조회할 수 있다. 해당 화면에 접근 이후 발생한 이력은 [검색] 버튼을 클릭하면 최신화된 정보를 알 수 있다. 목록 아래에 조회된 건수와 페이징 정보, 조회할 건수를 선택할 수 있다.(((Service Job 히스토리 화면)))
 
image::resources/figure_jobmonitoring_servicejob.png[title="Service Job 히스토리 화면",width=750]

* 조회 조건
+
검색 조건을 설정한 후 [검색] 버튼을 클릭하면 조건에 해당되는 수행내역 조회할 수 있다. __초기화__를 클릭하면 설정되었던 모든 조건들이 초기화된다.
+
[width="100%",cols="3,7",options="header"]
|================
|항목			|설명
|시작 시간		|A
|종료 시간		|A
|상태			|A
|지연 상태		|A
|Service Job 이름|A
|================
* 히스토리 목록
+
[width="100%",cols="3,7",options="header"]
|================
|항목				|설명
|Service Job 이름	|A
|상태				|A
|시작 시간			|A
|종료 시간			|A
|소요 시간			|A
|스케줄러			|A
|지연 상태			|A
|================

*Service Job 히스토리 상세 조회*

<<figure_jobmonitoring_servicejob, Service Job 히스토리 화면>>의 목록을 클릭하면 Service Job의 실행 결과를 조회할 수 있다.

 
image::resources/figure_jobmonitoring_servicejob_detail.png[title="Service Job 히스토리 상세 조회",width=750]

Service Job에서 Save output File를 사용한 경우 [Saved File Download] 버튼을 클릭해서 파일을 다운 받을 수 있다. 다수의 파일을 다운로드하는 경우 zip 파일로 압축하여 다운로드된다. 파일을 다운로드하는 경우 다운로드 사유를 입력해야 한다. 자세한 사항은 <<sect_datajob_history_detail,"Data Job 히스토리 상세 조회">>의 실행정보를 참고한다.


////
 ---------------------
 section level-2 ====
 ---------------------
////
==== Data Job


Job Monitoring 화면에서 [Data Job] 탭을 선택하면 Data Job의 수행 내역을 조회할 수 있다.

목록을 클릭하면 오른쪽에 <<figure_jobmonitoring_detail_1,히스토리 상세 조회화면>>에서 해당 Data Job의 실행 결과를 조회할 수 있다. 히스토리 상세 조회화면에서 생성한 Data job 수행 이력은 [검색] 버튼을 클릭하면 최신화된 정보를 조회할 수 있다.

 
image::resources/figure_jobmonitoring_datajob.png[title="Data Job 히스토리 화면",width=750]

* 조회 조건
+
검색 조건을 설정한 후 [검색] 버튼을 클릭하면 조건에 해당되는 수행내역 조회할 수 있다. [초기화]를 클릭하면 설정되었던 모든 조건들이 초기화된다. 목록 아래에 조회된 건수와 페이징 정보, 조회할 건수를 선택할 수 있다.
+
[width="100%",cols="3,7",options="header"]
|=============
|항목			|설명	
|시작 시간		|	
|종료 시간		|
|상태			|
|Data Job 이름  |
|=============
* 히스토리 목록
+
[width="100%",cols="3,7",options="header"]
|=============
|항목			|설명
|Data Job 이름	|
|상태			|
|시작 시간		|
|종료 시간		|
|소요 시간		|
|결과			|	
|=============

*Data Job 히스토리 상세 조회*

<<figure_jobmonitoring_datajob,Data Job 히스토리 화면>>의 목록을 클릭하면 Data Job의 실행 결과를 조회할 수 있다. Node의 '검증 결과' 항목을 클릭하면 검증 내역을 조회할 수 있다.
 
image::resources/figure_jobmonitoring_detail_1.png[title="Data Job 히스토리 상세 조회",width=750]

Data Job 화면에서 Save Output File함수를 사용할 경우 파일을 다운받을 수 있다.

 
image::resources/figure_jobmonitoring_detail_2.png[title="Data Job 히스토리 상세 조회 - 파일 다운",width=750]

* 실행 정보
+
선택한 Data Job의 실행 정보를 조회한다. '상태' 항목의 *[Saved File Download]* 버튼을 클릭하면 수행 결과 파일을 다운로드 받을 수 있다. 다수의 파일을 다운로드할 때 zip 파일로 압축한다.
+
Saved File List 화면에서 다운로드할 파일을 체크하고 [다운로드] 버튼을 클릭하면 결과 파일을 받을 수 있다. '다운로드 사유' 항목은 필수 입력 항목이다. Output File에 대한 자세한 내용은 <<sect_dataflow_function_tab, "@@">>의 <<sect_datajob_dataflow_saveoutputfile,"SaveOutputFile">>을 참고한다.
+
image::resources/figure_enter_reason_job_monitoring.png[title="히스토리 상세 조회 - 파일 다운로드",width=220]
+
다운로드가 완료되면 Audit Log에 다음 형태로 자장된다.
+
....
"File Downloaded from Data Job {Data Job 이름} (Explanatory Statement)."  
....
+
만약 여러 개의 output file을 기록하는 Data Job에서 파일을 다운받는 경우 파일들의 리스트가 조회된다. 다운받으려는 파일들을 선택하면, 여러 개의 파일이 압축파일 형태로 다운로드되며, Audit Log에 다음 형태로 기록된다.
+
....
"Multiple Files Downloaded from Data Job {Data Job 이름} (Explanatory Statement)."
....
+
기록된 로그 정보는 <<figure_auditlog_main, Audit Log 화면>>에서 조회할 수 있다. 로그의 유형은 'FILE'로 저장된다. 로그 목록의 row를 클릭하면 다운로드할 때 입력한 사유서를 조회할 수 있다.
+
또한 hd_config.properties에 WS_SAVEOUTPUT_FILEPATH 로 정의한 경로에서는 각 Data Job의 Save Output File 최근 작업 결과물을 확인할 수 있다.
* 히스토리 검증 결과 조회+
Validation 노드를 사용한 Data Job의 경우 검증 결과 테이블의 행을 더블클릭하면 검증 내역을 조회할 수 있다.
+
image::resources/figure_job_monitoring_validation_log.png[title="히스토리 상세 조회 - 검증 결과 조회",width=680]
+
[width="100%",cols="3,7",options="header"]
|==================
|구분				|설명
|[Warning Alert] 탭	|
|[Error Alert] 탭   |
|==================
